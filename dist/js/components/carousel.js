const Default={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:()=>{},onPrev:()=>{},onChange:()=>{}};class Carousel{constructor(t=[],e={}){this._items=t,this._options={...Default,...e,indicators:{...Default.indicators,...e.indicators}},this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._interval=null,this._init()}_init(){this._items.map((t=>{t.el.classList.add("absolute","inset-0","transition-all","transform")})),this._getActiveItem()?this.slideTo(this._getActiveItem().position):this.slideTo(0),this._indicators.map(((t,e)=>{t.el.addEventListener("click",(()=>{this.slideTo(e)}))}))}getItem(t){return this._items[t]}slideTo(t){const e=this._items[t],i={left:0===e.position?this._items[this._items.length-1]:this._items[e.position-1],middle:e,right:e.position===this._items.length-1?this._items[0]:this._items[e.position+1]};this._rotate(i),this._setActiveItem(e.position),this._interval&&(this.pause(),this.cycle()),this._options.onChange(this)}next(){const t=this._getActiveItem();let e=null;e=t.position===this._items.length-1?this._items[0]:this._items[t.position+1],this.slideTo(e.position),this._options.onNext(this)}prev(){const t=this._getActiveItem();let e=null;e=0===t.position?this._items[this._items.length-1]:this._items[t.position-1],this.slideTo(e.position),this._options.onPrev(this)}_rotate(t){this._items.map((t=>{t.el.classList.add("hidden")})),t.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),t.left.el.classList.add("-translate-x-full","z-10"),t.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),t.middle.el.classList.add("translate-x-0","z-20"),t.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),t.right.el.classList.add("translate-x-full","z-10")}cycle(){this._interval=setInterval((()=>{this.next()}),this._options.interval)}pause(){clearInterval(this._interval)}_getActiveItem(){return this._activeItem}_setActiveItem(t){this._activeItem=this._items[t],this._indicators.length&&(this._indicators.map((t=>{t.el.setAttribute("aria-current","false"),t.el.classList.remove(...this._options.indicators.activeClasses.split(" ")),t.el.classList.add(...this._options.indicators.inactiveClasses.split(" "))})),this._indicators[t].el.classList.add(...this._options.indicators.activeClasses.split(" ")),this._indicators[t].el.classList.remove(...this._options.indicators.inactiveClasses.split(" ")),this._indicators[t].el.setAttribute("aria-current","true"))}}function initCarousel(){document.querySelectorAll("[data-carousel]").forEach((t=>{const e=t.getAttribute("data-carousel-interval"),i="slide"===t.getAttribute("data-carousel"),s=[];let a=0;t.querySelectorAll("[data-carousel-item]").length&&[...t.querySelectorAll("[data-carousel-item]")].map(((t,e)=>{s.push({position:e,el:t}),"active"===t.getAttribute("data-carousel-item")&&(a=e)}));const l=[];t.querySelectorAll("[data-carousel-slide-to]").length&&[...t.querySelectorAll("[data-carousel-slide-to]")].map((t=>{l.push({position:t.getAttribute("data-carousel-slide-to"),el:t})}));const o=new Carousel(s,{defaultPosition:a,indicators:{items:l},interval:e||Default.interval});i&&o.cycle();const n=t.querySelector("[data-carousel-next]"),r=t.querySelector("[data-carousel-prev]");n&&n.addEventListener("click",(()=>{o.next()})),r&&r.addEventListener("click",(()=>{o.prev()}))}))}window.Carousel=Carousel,"loading"!==document.readyState?initCarousel():document.addEventListener("DOMContentLoaded",initCarousel);export default Carousel;