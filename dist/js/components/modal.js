const Default={placement:"center",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-40",onHide:()=>{},onShow:()=>{},onToggle:()=>{}};class Modal{constructor(t=null,e={}){this._targetEl=t,this._options={...Default,...e},this._isHidden=!0,this._init()}_init(){this._getPlacementClasses().map((t=>{this._targetEl.classList.add(t)}))}_createBackdrop(){if(this._isHidden){const t=document.createElement("div");t.setAttribute("modal-backdrop",""),t.classList.add(...this._options.backdropClasses.split(" ")),document.querySelector("body").append(t)}}_destroyBackdropEl(){this._isHidden||document.querySelector("[modal-backdrop]").remove()}_getPlacementClasses(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":default:return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"]}}toggle(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)}show(){this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,this._options.onShow(this)}hide(){this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,this._options.onHide(this)}}window.Modal=Modal;const getModalInstance=(t,e)=>!!e.some((e=>e.id===t))&&e.find((e=>e.id===t));function initModal(){let t=[];document.querySelectorAll("[data-modal-toggle]").forEach((e=>{const s=e.getAttribute("data-modal-toggle"),i=document.getElementById(s),a=i.getAttribute("data-modal-placement");i&&(i.hasAttribute("aria-hidden")||i.hasAttribute("aria-modal")||i.setAttribute("aria-hidden","true"));let r=null;getModalInstance(s,t)?(r=getModalInstance(s,t),r=r.object):(r=new Modal(i,{placement:a||Default.placement}),t.push({id:s,object:r})),i.hasAttribute("data-modal-show")&&"true"===i.getAttribute("data-modal-show")&&r.show(),e.addEventListener("click",(()=>{r.toggle()}))}))}"loading"!==document.readyState?initModal():document.addEventListener("DOMContentLoaded",initModal);export default Modal;