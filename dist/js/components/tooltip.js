import{createPopper}from"@popperjs/core";const Default={placement:"top",triggerType:"hover",onShow:()=>{},onHide:()=>{}};class Tooltip{constructor(t=null,e=null,i={}){this._targetEl=t,this._triggerEl=e,this._options={...Default,...i},this._popperInstance=this._createPopperInstace(),this._init()}_init(){if(this._triggerEl){const t=this._getTriggerEvents();t.showEvents.forEach((t=>{this._triggerEl.addEventListener(t,(()=>{this.show()}))})),t.hideEvents.forEach((t=>{this._triggerEl.addEventListener(t,(()=>{this.hide()}))}))}}_createPopperInstace(){return createPopper(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})}_getTriggerEvents(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]}}}show(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions((t=>({...t,modifiers:[...t.modifiers,{name:"eventListeners",enabled:!0}]}))),this._popperInstance.update(),this._options.onShow(this)}hide(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions((t=>({...t,modifiers:[...t.modifiers,{name:"eventListeners",enabled:!1}]}))),this._options.onHide(this)}}function initTooltip(){document.querySelectorAll("[data-tooltip-target]").forEach((t=>{const e=document.getElementById(t.getAttribute("data-tooltip-target")),i=t.getAttribute("data-tooltip-trigger"),o=t.getAttribute("data-tooltip-placement");new Tooltip(e,t,{placement:o||Default.placement,triggerType:i||Default.triggerType})}))}window.Tooltip=Tooltip,"loading"!==document.readyState?initTooltip():document.addEventListener("DOMContentLoaded",initTooltip);export default Tooltip;