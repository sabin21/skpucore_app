/*! For license information please see PixiPlugin.min.js.LICENSE.txt */
!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((t=t||self).window=t.window||{})}(this,(function(t){"use strict";function i(){return"undefined"!=typeof window}function r(){return z||i()&&(z=window.gsap)&&z.registerPlugin&&z}function o(t){return"function"==typeof t}function e(t,i){var r,o,e=[],n=0,s=0;for(r=0;r<4;r++){for(o=0;o<5;o++)s=4===o?t[n+4]:0,e[n+o]=t[n]*i[o]+t[n+1]*i[o+5]+t[n+2]*i[o+10]+t[n+3]*i[o+15]+s;n+=5}return e}function n(t,i){var r=1-i,o=r*S,n=r*j,s=r*D;return e([o+i,n,s,0,0,o,n+i,s,0,0,o,n,s+i,0,0,0,0,0,1,0],t)}function s(t,i,r){var o=y(i),n=o[0]/255,s=o[1]/255,l=o[2]/255,a=1-r;return e([a+r*n*S,r*n*j,r*n*D,0,0,r*s*S,a+r*s*j,r*s*D,0,0,r*l*S,r*l*j,a+r*l*D,0,0,0,0,0,1,0],t)}function l(t,i){i*=Math.PI/180;var r=Math.cos(i),o=Math.sin(i);return e([S+r*(1-S)+o*-S,j+r*-j+o*-j,D+r*-D+o*(1-D),0,0,S+r*-S+.143*o,j+r*(1-j)+.14*o,D+r*-D+-.283*o,0,0,S+r*-S+o*-(1-S),j+r*-j+o*j,D+r*(1-D)+o*D,0,0,0,0,0,1,0,0,0,0,0,1],t)}function a(t,i){return e([i,0,0,0,.5*(1-i),0,i,0,0,.5*(1-i),0,0,i,0,.5*(1-i),0,0,0,1,0],t)}function u(t,i){var r,o=A.filters[i],e=t.filters||[],n=e.length;for(o||function(t){console.warn(t)}(i+" not found. PixiPlugin.registerPIXI(PIXI)");-1<--n;)if(e[n]instanceof o)return e[n];return r=new o,"BlurFilter"===i&&(r.blur=0),e.push(r),t.filters=e,r}function c(t,i,r,o){i.add(r,t,r[t],o[t]),i._props.push(t)}function f(t,i){var r=new A.filters.ColorMatrixFilter;return r.matrix=i,r.brightness(t,!0),r.matrix}function h(t,i,r){var o,e,h,d=u(t,"ColorMatrixFilter"),p=t._gsColorMatrixFilter=t._gsColorMatrixFilter||function(t){var i,r={};for(i in t)r[i]=t[i];return r}(Y),g=i.combineCMF&&!("colorMatrixFilter"in i&&!i.colorMatrixFilter);h=d.matrix,i.resolution&&(d.resolution=i.resolution),i.matrix&&i.matrix.length===h.length?(e=i.matrix,1!==p.contrast&&c("contrast",r,p,Y),p.hue&&c("hue",r,p,Y),1!==p.brightness&&c("brightness",r,p,Y),p.colorizeAmount&&(c("colorize",r,p,Y),c("colorizeAmount",r,p,Y)),1!==p.saturation&&c("saturation",r,p,Y)):(e=O.slice(),null!=i.contrast?(e=a(e,+i.contrast),c("contrast",r,p,i)):1!==p.contrast&&(g?e=a(e,p.contrast):c("contrast",r,p,Y)),null!=i.hue?(e=l(e,+i.hue),c("hue",r,p,i)):p.hue&&(g?e=l(e,p.hue):c("hue",r,p,Y)),null!=i.brightness?(e=f(+i.brightness,e),c("brightness",r,p,i)):1!==p.brightness&&(g?e=f(p.brightness,e):c("brightness",r,p,Y)),null!=i.colorize?(i.colorizeAmount="colorizeAmount"in i?+i.colorizeAmount:1,e=s(e,i.colorize,i.colorizeAmount),c("colorize",r,p,i),c("colorizeAmount",r,p,i)):p.colorizeAmount&&(g?e=s(e,p.colorize,p.colorizeAmount):(c("colorize",r,p,Y),c("colorizeAmount",r,p,Y))),null!=i.saturation?(e=n(e,+i.saturation),c("saturation",r,p,i)):1!==p.saturation&&(g?e=n(e,p.saturation):c("saturation",r,p,Y))),o=e.length;for(;-1<--o;)e[o]!==h[o]&&r.add(h,o,h[o],e[o],"colorMatrixFilter");r._props.push("colorMatrixFilter")}function d(t,i){var r=i.t,o=i.p,e=i.color;(0,i.set)(r,o,e[0]<<16|e[1]<<8|e[2])}function p(t,i){var r=i.g;r&&(r.dirty++,r.clearDirty++)}function g(t,i){i.t.visible=!!i.t.alpha}function b(t,i,r,e){var n=t[i],s=y(o(n)?t[i.indexOf("set")||!o(t["get"+i.substr(3)])?i:"get"+i.substr(3)]():n),l=y(r);e._pt=new I(e._pt,t,i,0,0,d,{t,p:i,color:s,set:_(t,i)}),e.add(s,0,s[0],l[0]),e.add(s,1,s[1],l[1]),e.add(s,2,s[2],l[2])}function x(t){return"string"==typeof t}function w(t){return x(t)&&"="===t.charAt(1)?t.substr(0,2)+parseFloat(t.substr(2))*R:t*R}function m(t,i){return i.set(i.t,i.p,1===t?i.e:Math.round(1e5*(i.s+i.c*t))/1e5,i)}function P(t,i,r,o,e,n){var s,l,a=360*(n?R:1),u=x(e),c=u&&"="===e.charAt(1)?+(e.charAt(0)+"1"):0,f=parseFloat(c?e.substr(2):e)*(n?R:1),h=c?f*c:f-o,d=o+h;return u&&("short"===(s=e.split("_")[1])&&(h%=a)!=h%(a/2)&&(h+=h<0?a:-a),"cw"===s&&h<0?h=(h+1e10*a)%a-~~(h/a)*a:"ccw"===s&&0<h&&(h=(h-1e10*a)%a-~~(h/a)*a)),t._pt=l=new I(t._pt,i,r,o,h,m),l.e=d,l}function v(){i()&&(M=window,z=r(),A=A||M.PIXI,F=A&&A.VERSION&&"4"===A.VERSION.charAt(0),y=function(t){return z.utils.splitColor("0x"===(t+"").substr(0,2)?"#"+t.substr(2):t)})}var z,M,y,A,I,_,F,C,X,O=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],S=.212671,j=.71516,D=.072169,Y={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},k={tint:1,lineColor:1,fillColor:1},B="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),E={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},N={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},R=Math.PI/180;for(C=0;C<B.length;C++)X=B[C],E[X+"X"]=X,E[X+"Y"]=X;var V={version:"3.10.4",name:"pixi",register:function(t,i,r){z=t,I=r,_=i.getSetter,v()},registerPIXI:function(t){A=t},init:function(t,i){if(A||v(),!(A&&t instanceof A.DisplayObject))return console.warn(t,"is not a DisplayObject or PIXI was not found. PixiPlugin.registerPIXI(PIXI);"),!1;var r,o,e,n,s,l,a,c,f;for(l in i){if(r=E[l],e=i[l],r)o=~l.charAt(l.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(t[r],o,t[r][o],"skew"===r?w(e):e);else if("scale"===l||"anchor"===l||"pivot"===l||"tileScale"===l)this.add(t[l],"x",t[l].x,e),this.add(t[l],"y",t[l].y,e);else if("rotation"===l||"angle"===l)P(this,t,l,t[l],e,"rotation"===l);else if(N[l])n||(h(t,i.colorMatrixFilter||i,this),n=!0);else if("blur"===l||"blurX"===l||"blurY"===l||"blurPadding"===l){if(s=u(t,"BlurFilter"),this.add(s,l,s[l],e),0!==i.blurPadding)for(a=i.blurPadding||2*Math.max(s[l],e),c=t.filters.length;-1<--c;)t.filters[c].padding=Math.max(t.filters[c].padding,a)}else if(k[l])if(("lineColor"===l||"fillColor"===l)&&t instanceof A.Graphics)for(f=(t.geometry||t).graphicsData,this._pt=new I(this._pt,t,l,0,0,p,{g:t.geometry||t}),c=f.length;-1<--c;)b(F?f[c]:f[c][l.substr(0,4)+"Style"],F?l:"color",e,this);else b(t,l,e,this);else"autoAlpha"===l?(this._pt=new I(this._pt,t,"visible",0,0,g),this.add(t,"alpha",t.alpha,e),this._props.push("alpha","visible")):"resolution"!==l&&this.add(t,l,"get",e);this._props.push(l)}}};r()&&z.registerPlugin(V),t.PixiPlugin=V,t.default=V,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete t.default}));